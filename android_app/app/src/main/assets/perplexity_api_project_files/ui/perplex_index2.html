<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DEAD ANGEL // OMNI-BRIDGE</title>
<link href="https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
    /* =========================================
       CYBERPUNK VARIABLES & CORE
       ========================================= */
    :root {
        --neon-pink: #ff00ff;
        --neon-cyan: #00ffff;
        --neon-purple: #8000ff;
        --neon-green: #00ff00;
        --dark-bg: #020202;
        --panel-bg: rgba(10, 5, 15, 0.9);
        --blood-red: #ff0040;
        --glass-border: 1px solid rgba(0, 255, 255, 0.2);
        --grid-line: rgba(128, 0, 255, 0.1);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
    
    /* SCROLLBARS */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #000; border-left: 1px solid #333; }
    ::-webkit-scrollbar-thumb { background: var(--neon-purple); border: 1px solid #000; }
    ::-webkit-scrollbar-thumb:hover { background: var(--neon-pink); }

    body {
        background-color: var(--dark-bg);
        color: var(--neon-cyan);
        font-family: 'Share Tech Mono', monospace;
        height: 100vh;
        overflow: hidden;
        background-image: linear-gradient(var(--grid-line) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
        background-size: 40px 40px;
    }

    /* SCANLINES */
    .scanlines {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2));
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 9999;
        opacity: 0.3;
    }

    /* =========================================
       LAYOUT
       ========================================= */
    .app-container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        max-width: 1800px;
        margin: 0 auto;
        border-left: 1px solid var(--neon-purple);
        border-right: 1px solid var(--neon-purple);
        box-shadow: 0 0 80px rgba(128, 0, 255, 0.15);
        background: rgba(0,0,0,0.8);
    }

    /* HEADER */
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 20px;
        border-bottom: 2px solid var(--neon-pink);
        background: #000;
        z-index: 100;
    }
    
    .header-logo {
        height: 50px;
        filter: drop-shadow(0 0 5px var(--neon-cyan));
        border: 1px solid #333;
    }

    .header-controls { display: flex; gap: 15px; align-items: center; }

    .status-indicator {
        font-family: 'VT323'; font-size: 1.2rem;
        display: flex; align-items: center; gap: 8px;
        color: #555;
    }
    .status-dot { width: 10px; height: 10px; border-radius: 50%; background: #333; }
    .status-indicator.connected { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-green); }
    .status-indicator.connected .status-dot { background: var(--neon-green); box-shadow: 0 0 10px var(--neon-green); }

    /* TABS */
    .nav-tabs {
        display: flex;
        background: rgba(0,0,0,0.9);
        border-bottom: var(--glass-border);
    }
    .tab-btn {
        flex: 1;
        background: transparent;
        border: none;
        color: #666;
        font-family: 'VT323', monospace;
        font-size: 1.4rem;
        padding: 10px;
        cursor: pointer;
        transition: 0.2s;
        text-transform: uppercase;
        border-right: 1px solid #222;
    }
    .tab-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
    .tab-btn.active {
        color: var(--neon-pink);
        background: rgba(255, 0, 255, 0.1);
        border-bottom: 2px solid var(--neon-pink);
        text-shadow: 0 0 8px var(--neon-pink);
    }

    /* MAIN CONTENT */
    main {
        flex: 1;
        overflow: hidden;
        position: relative;
    }
    .tab-content { display: none; height: 100%; padding: 20px; overflow-y: auto; }
    .tab-content.active { display: block; }

    /* =========================================
       CHAT LAYOUT (SIDEBAR + MAIN)
       ========================================= */
    .chat-layout {
        display: grid;
        grid-template-columns: 300px 1fr;
        gap: 20px;
        height: 100%;
    }

    /* WIDGETS (Sidebar) */
    .sidebar {
        display: flex;
        flex-direction: column;
        gap: 20px;
        overflow-y: auto;
    }
    
    .widget {
        background: #000;
        border: 1px solid var(--neon-purple);
        padding: 15px;
        position: relative;
    }
    .widget h3 {
        color: var(--neon-cyan);
        font-family: 'VT323';
        font-size: 1.4rem;
        border-bottom: 1px dashed #333;
        margin-bottom: 10px;
        padding-bottom: 5px;
    }
    
    .quick-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    
    .stat-row { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px; color: #aaa; }
    .stat-row span:last-child { color: #fff; font-family: 'VT323'; font-size: 1.1rem; }

    .fav-list { font-size: 0.8rem; color: #666; max-height: 150px; overflow-y: auto; }

    /* CHAT AREA */
    .chat-main {
        display: flex;
        flex-direction: column;
        border: 1px solid var(--neon-cyan);
        background: rgba(0,0,0,0.5);
        position: relative;
    }

    .conversation-view {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    /* MESSAGES */
    .msg {
        max-width: 85%;
        padding: 15px;
        position: relative;
        line-height: 1.5;
        font-size: 1rem;
        animation: slideIn 0.2s ease-out;
    }
    @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .msg.user {
        align-self: flex-end;
        border: 1px solid var(--neon-purple);
        background: rgba(128, 0, 255, 0.05);
        border-radius: 10px 0 10px 10px;
        color: #e0e0ff;
    }
    .msg.assistant {
        align-self: flex-start;
        border: 1px solid var(--neon-cyan);
        background: rgba(0, 255, 255, 0.05);
        border-radius: 0 10px 10px 10px;
        color: #ccffff;
    }
    .msg-meta {
        font-size: 0.7rem; color: rgba(255,255,255,0.4);
        margin-bottom: 5px; display: block; text-transform: uppercase;
    }

    /* INPUT ZONE */
    .input-zone {
        background: #050505;
        border-top: 1px solid var(--neon-cyan);
        padding: 15px;
    }

    textarea {
        width: 100%;
        background: #111;
        border: 1px solid #333;
        color: var(--neon-green);
        padding: 10px;
        font-family: 'Share Tech Mono';
        font-size: 1rem;
        resize: none;
        height: 80px;
        transition: 0.3s;
    }
    textarea:focus { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0,255,0,0.1); }

    .controls-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 10px;
        flex-wrap: wrap;
        gap: 10px;
    }

    .model-select-wrapper { display: flex; gap: 10px; align-items: center; }
    
    select {
        background: #000; color: var(--neon-pink); border: 1px solid var(--neon-pink);
        padding: 5px; font-family: 'VT323'; font-size: 1.1rem;
    }

    /* BUTTONS */
    .cyber-btn {
        background: transparent;
        border: 1px solid var(--neon-cyan);
        color: var(--neon-cyan);
        padding: 5px 15px;
        cursor: pointer;
        font-family: 'VT323';
        font-size: 1.1rem;
        text-transform: uppercase;
        transition: 0.2s;
        display: flex; align-items: center; gap: 5px;
    }
    .cyber-btn:hover { background: var(--neon-cyan); color: #000; box-shadow: 0 0 10px var(--neon-cyan); }
    
    .cyber-btn.send {
        border-color: var(--neon-green); color: var(--neon-green);
        padding: 5px 25px; font-weight: bold;
    }
    .cyber-btn.send:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 15px var(--neon-green); }

    .cyber-btn.danger { border-color: var(--blood-red); color: var(--blood-red); }
    .cyber-btn.danger:hover { background: var(--blood-red); color: #000; }

    /* TOGGLE SWITCH */
    .toggle { display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 0.9rem; }
    .toggle input { display: none; }
    .slider { width: 30px; height: 16px; background: #333; position: relative; border: 1px solid #555; }
    .slider:before { content:''; position: absolute; left: 1px; top: 1px; width: 12px; height: 12px; background: #888; transition: 0.3s; }
    input:checked + .slider { background: rgba(0,255,0,0.2); border-color: var(--neon-green); }
    input:checked + .slider:before { transform: translateX(14px); background: var(--neon-green); }

    /* ADVANCED PANEL */
    .advanced-panel {
        display: none;
        background: rgba(0,20,40,0.8);
        border: 1px solid var(--neon-purple);
        padding: 15px;
        margin-top: 10px;
        animation: flicker 0.2s;
    }
    .range-group { margin-bottom: 10px; }
    .range-group label { display: flex; justify-content: space-between; font-size: 0.8rem; color: var(--neon-pink); }
    input[type=range] { width: 100%; -webkit-appearance: none; background: transparent; margin-top: 5px; }
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none; height: 15px; width: 15px; background: var(--neon-cyan); border-radius: 0; cursor: pointer; margin-top: -5px; box-shadow: 0 0 5px var(--neon-cyan);
    }
    input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; background: #333; }

    /* =========================================
       SETTINGS & HISTORY PAGES
       ========================================= */
    .config-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
    
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; color: #aaa; margin-bottom: 5px; font-size: 0.9rem; }
    .form-group input[type="text"], .form-group input[type="password"] {
        width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 8px;
    }

    .history-item {
        border: 1px solid #333; padding: 10px; margin-bottom: 10px; cursor: pointer;
        display: flex; justify-content: space-between; background: rgba(0,0,0,0.5);
    }
    .history-item:hover { border-color: var(--neon-cyan); background: rgba(0, 255, 255, 0.05); }

    .models-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
    .model-card {
        border: 1px solid var(--neon-purple); background: rgba(0,0,0,0.6); padding: 15px; text-align: center; cursor: pointer;
    }
    .model-card:hover { background: var(--neon-purple); color: #fff; }

    /* TOAST */
    #toast {
        position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
        background: #000; border: 1px solid var(--neon-green); color: var(--neon-green);
        padding: 10px 20px; z-index: 10000; display: none; box-shadow: 0 0 20px rgba(0,255,0,0.3);
    }
    
    /* UTILS */
    code { background: #222; color: var(--neon-pink); padding: 2px 5px; font-family: monospace; }
    pre { background: #111; border: 1px solid #333; padding: 10px; overflow-x: auto; margin: 10px 0; }


/* Projects editor and terminal styling */
.projects-layout { display:grid; grid-template-columns: 260px 1fr; gap:16px; align-items:start; }
.projects-files { background:var(--panel-bg); padding:8px; border-radius:8px; border:var(--glass-border); }
.projects-editor { background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05)); padding:8px; border-radius:8px; border:var(--glass-border); }
</style>
</head>
<body>

<div class="scanlines"></div>
<div id="toast">SYSTEM: ONLINE</div>

<div class="app-container">
    
    <header>
        <img src="perp_api_header.jpg" alt="PERPLEXITY BRIDGE" class="header-logo">
        
        <div class="header-controls">
            <div id="connectionStatus" class="status-indicator">
                <span class="status-dot"></span> <span class="status-text">OFFLINE</span>
            </div>
            <button class="cyber-btn" id="themeToggle" style="font-size:0.8rem">‚òÄ/‚òæ</button>
        </div>
    </header>

    <nav class="nav-tabs">
        <button class="tab-btn active" data-tab="chat">üí¨ TERMINAL</button>
        <button class="tab-btn" data-tab="history">üìö ARCHIVES</button>
        <button class="tab-btn" data-tab="projects">üóÇ PROJECTS</button>
        <button class="tab-btn" data-tab="settings">‚öô CONFIG</button>
        <button class="tab-btn" data-tab="models">ü§ñ ENTITIES</button>
        <button class="tab-btn" data-tab="stats">üìä TELEMETRY</button>
    </nav>

    <main>
        
        <div id="chat-tab" class="tab-content active">
            
    <div id="projects-tab" class="tab-content">
        <h2 style="margin-bottom:10px;">PROJECTS ‚Äî Code Editor & Terminal</h2>
        <div class="projects-layout">
            <div class="projects-files">
                <div style="padding:8px; font-weight:700;">Files</div>
                <div id="fileList" style="overflow:auto; padding:6px; height:380px; background:rgba(255,255,255,0.03); border-radius:6px;"></div>
                <div style="margin-top:8px; display:flex; gap:6px;">
                    <button class="cyber-btn" id="loadManifestBtn">Load Manifest</button>
                    <button class="cyber-btn" id="downloadFileBtn">Download File</button>
                </div>
            </div>
            <div class="projects-editor">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div style="font-weight:700;">Editor</div>
                    <div id="editorFilename" style="opacity:0.8;">(no file)</div>
                </div>
                <textarea id="codeEditor" placeholder="// Open a file to edit. Supports saving to localStorage and downloading." style="width:100%; height:320px; font-family:monospace; font-size:13px; margin-top:6px; border-radius:6px; padding:8px;"></textarea>
                <div style="margin-top:8px; display:flex; gap:8px;">
                    <button class="cyber-btn" id="saveEditorBtn">Save (local)</button>
                    <button class="cyber-btn" id="downloadEditorBtn">Download</button>
                    <button class="cyber-btn" id="formatCodeBtn">Format (basic)</button>
                </div>
                <div style="margin-top:12px;">
                    <div style="font-weight:700; margin-bottom:4px;">Terminal</div>
                    <div id="miniTerminal" style="height:140px; overflow:auto; background:#000; color:#0f0; padding:8px; border-radius:6px; font-family:monospace; font-size:13px;"></div>
                    <div style="display:flex; margin-top:6px;">
                        <input id="terminalInput" placeholder="Type shell commands (simulated)..." style="flex:1; border-radius:6px; padding:8px; font-family:monospace;">
                        <button class="cyber-btn" id="terminalSendBtn">Run</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


                <div class="chat-layout">
                
                <div class="sidebar">
                    
                    <div class="widget">
                        <h3>>> ACTIONS</h3>
                        <div class="quick-actions">
                            <button class="cyber-btn" id="newChatBtn">üÜï NEW</button>
                            <button class="cyber-btn" id="voiceBtn">üé§ VOX</button>
                            <button class="cyber-btn" id="saveTempBtn">üíæ SAVE</button>
                            <button class="cyber-btn" onclick="switchTab('settings')">‚öô SET</button>
                        </div>
                    </div>

                    <div class="widget">
                        <h3>>> SESSION STATS</h3>
                        <div class="stat-row"><span>MESSAGES:</span> <span id="sessionMessages">0</span></div>
                        <div class="stat-row"><span>TOKENS:</span> <span id="sessionTokens">0</span></div>
                        <div class="stat-row"><span>TIME:</span> <span id="sessionTime">0s</span></div>
                    </div>

                    <div class="widget">
                        <h3>>> FAVORITES</h3>
                        <div id="favoritesList" class="fav-list">
                            <div style="padding:10px; font-style:italic;">No favorites saved.</div>
                        </div>
                    </div>
                </div>

                <div class="chat-main">
                    <div id="conversation" class="conversation-view">
                        <div class="msg assistant">
                            <span class="msg-meta">SYSTEM</span>
                            Welcome to the Bridge. Neural link awaiting input.
                        </div>
                    </div>

                    <div class="input-zone">
                        <textarea id="prompt" placeholder="ENTER COMMAND OR QUERY... [Ctrl+Enter to Send]"></textarea>
                        
                        <div class="controls-bar">
                            <div class="model-select-wrapper">
                                <button class="cyber-btn danger" id="clearBtn" title="Clear Chat">üóë</button>
                                <button class="cyber-btn" id="copyBtn" title="Copy Last">üìã</button>
                                <button class="cyber-btn" id="exportBtn" title="Export">üíæ</button>
                                <button class="cyber-btn" id="favBtn" title="Favorite">‚≠ê</button>
                            </div>

                            <div class="model-select-wrapper">
                                <div class="toggle">
                                    <label><input type="checkbox" id="streaming"> <div class="slider"></div> STREAM</label>
                                </div>
                                <select id="modelSelector">
                                    <option value="llama-3.1-sonar-small-128k-online">Sonar Small Online</option>
                                    <option value="llama-3.1-sonar-large-128k-online">Sonar Large Online</option>
                                    <option value="llama-3.1-70b-instruct">Llama 3.1 70B</option>
                                </select>
                                <button class="cyber-btn" id="advancedToggle">‚ö° ADVANCED</button>
                                <button class="cyber-btn send" id="sendBtn">TRANSMIT ‚û§</button>
                            </div>
                        </div>

                        <div id="advancedOptions" class="advanced-panel">
                            <div class="config-grid">
                                <div class="range-group">
                                    <label>TEMPERATURE <span id="tempValue">0.0</span></label>
                                    <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.0">
                                </div>
                                <div class="range-group">
                                    <label>MAX TOKENS <span id="tokensValue">1024</span></label>
                                    <input type="range" id="maxTokens" min="1" max="4096" step="1" value="1024">
                                </div>
                                <div class="range-group">
                                    <label>FREQ PENALTY <span id="freqValue">1.0</span></label>
                                    <input type="range" id="frequencyPenalty" min="-2" max="2" step="0.1" value="1.0">
                                </div>
                            </div>
                            <div style="margin-top:10px;">
                                <label style="color:var(--neon-pink); font-size:0.8rem;">SYSTEM PROMPT / RULES</label>
                                <textarea id="systemPrompt" style="height:50px; margin-top:5px;" placeholder="Define AI Persona or Rules..."></textarea>
                            </div>
                            <div style="margin-top:10px;">
                                <label style="color:var(--neon-purple); font-size:0.8rem;">TOOLS / JSON CONFIG</label>
                                <textarea id="toolsConfig" style="height:50px; margin-top:5px; border-color:var(--neon-purple);" placeholder='[{"type": "function", ...}]'></textarea>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div id="history-tab" class="tab-content">
            <h2 style="color:var(--neon-green); font-family:'VT323'; margin-bottom:20px;">>> ARCHIVED TRANSMISSIONS</h2>
            <div style="margin-bottom:20px;">
                <button class="cyber-btn danger" id="clearHistoryBtn">WIPE ALL DATA</button>
                <button class="cyber-btn" id="exportAllBtn">EXPORT ARCHIVE</button>
            </div>
            <div id="historyList"></div>
        </div>

        <div id="settings-tab" class="tab-content">
            <div class="config-grid">
                <div class="widget">
                    <h3>CONNECTION PROTOCOLS</h3>
                    <div class="form-group">
                        <label>API ENDPOINT (URL)</label>
                        <input type="text" id="cfg-url" value="https://api.perplexity.ai">
                    </div>
                    <div class="form-group">
                        <label>ACCESS KEY (API KEY)</label>
                        <input type="password" id="cfg-key" placeholder="pplx-xxxxxxxxxxxxxxxxxxxx">
                    </div>
                    <button class="cyber-btn" id="saveConfigBtn">SAVE CONNECTION</button>
                </div>

                <div class="widget">
                    <h3>INTERFACE OPTICS</h3>
                    <div class="form-group">
                        <div class="toggle">
                            <label><input type="checkbox" id="markdownRender" checked> <div class="slider"></div> RENDER MARKDOWN</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="toggle">
                            <label><input type="checkbox" id="autoSave" checked> <div class="slider"></div> AUTO-SAVE LOGS</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="toggle">
                            <label><input type="checkbox" id="soundEnabled"> <div class="slider"></div> AUDIO FEEDBACK</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="toggle">
                            <label><input type="checkbox" id="showTimestamps" checked> <div class="slider"></div> SHOW TIMESTAMPS</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="models-tab" class="tab-content">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2 style="color:var(--neon-purple); font-family:'VT323';">>> NEURAL NETWORKS</h2>
                <button class="cyber-btn" id="refreshModelsBtn">üîÑ REFRESH</button>
            </div>
            <div id="modelsList" class="models-grid">
                <div style="color:#666;">SCANNING...</div>
            </div>
        </div>

        <div id="stats-tab" class="tab-content">
            <div class="config-grid" style="margin-bottom:20px;">
                <div class="widget" style="text-align:center;">
                    <h3 style="border:none; color:#fff; font-size:3rem;" id="totalRequests">0</h3>
                    <div style="color:var(--neon-pink)">TOTAL REQUESTS</div>
                </div>
                <div class="widget" style="text-align:center;">
                    <h3 style="border:none; color:#fff; font-size:3rem;" id="totalMessages">0</h3>
                    <div style="color:var(--neon-cyan)">TOTAL MESSAGES</div>
                </div>
                <div class="widget" style="text-align:center;">
                    <h3 style="border:none; color:#fff; font-size:3rem;" id="totalTokens">0</h3>
                    <div style="color:var(--neon-green)">TOKENS BURNED</div>
                </div>
            </div>
            <div class="widget">
                <h3>ACTIVITY LOG</h3>
                <div id="activityLog" style="font-size:0.8rem; color:#aaa; max-height:300px; overflow-y:auto;"></div>
            </div>
        </div>

    </main>
</div>


<script id="projectManifest" type="application/json">[
  ".kilocodemodes",
  "INSTALL.md",
  "Launch Perplexity Bridge.vbs",
  "Perplexity Bridge.desktop",
  "README.md",
  "ROADMAP.md",
  "app.py",
  "config.py",
  "create_desktop_launchers.bat",
  "create_desktop_launchers.sh",
  "env.example",
  "install.sh",
  "install_windows.bat",
  "rate_limit.py",
  "requirements.txt",
  "start.bat",
  "start.py",
  "start.sh",
  "PROJECT_GUIDELINES.MD",
  "PROJECT_RULES.MD",
  "PHASE_COMPLETION_GUIDE.MD",
  "ui.zip",
  "FUTURE_INTEGRATIONS.MD",
  "adapters/roo_adapter.py",
  "assets/perp_api_header.png",
  "assets/perp_api_icon.png",
  "ui/perplex_index2.html",
  "ui/assets/perp_api_header.png",
  "vscode_extension/extension.js",
  "vscode_extension/package-lock.json",
  "vscode_extension/package.json",
  "vscode_extension/perp_api_icon.png",
  "vscode_extension/perplexity-bridge-1.0.0.vsix",
  "vscode_extension/node_modules/.package-lock.json",
  "vscode_extension/node_modules/asynckit/LICENSE",
  "vscode_extension/node_modules/asynckit/README.md",
  "vscode_extension/node_modules/asynckit/bench.js",
  "vscode_extension/node_modules/asynckit/index.js",
  "vscode_extension/node_modules/asynckit/package.json",
  "vscode_extension/node_modules/asynckit/parallel.js",
  "vscode_extension/node_modules/asynckit/serial.js",
  "vscode_extension/node_modules/asynckit/serialOrdered.js",
  "vscode_extension/node_modules/asynckit/stream.js",
  "vscode_extension/node_modules/asynckit/lib/abort.js",
  "vscode_extension/node_modules/asynckit/lib/async.js",
  "vscode_extension/node_modules/asynckit/lib/defer.js",
  "vscode_extension/node_modules/asynckit/lib/iterate.js",
  "vscode_extension/node_modules/asynckit/lib/readable_asynckit.js",
  "vscode_extension/node_modules/asynckit/lib/readable_parallel.js",
  "vscode_extension/node_modules/asynckit/lib/readable_serial.js",
  "vscode_extension/node_modules/asynckit/lib/readable_serial_ordered.js",
  "vscode_extension/node_modules/asynckit/lib/state.js",
  "vscode_extension/node_modules/asynckit/lib/streamify.js",
  "vscode_extension/node_modules/asynckit/lib/terminator.js",
  "vscode_extension/node_modules/axios/CHANGELOG.md",
  "vscode_extension/node_modules/axios/LICENSE",
  "vscode_extension/node_modules/axios/MIGRATION_GUIDE.md",
  "vscode_extension/node_modules/axios/README.md",
  "vscode_extension/node_modules/axios/index.d.cts",
  "vscode_extension/node_modules/axios/index.d.ts",
  "vscode_extension/node_modules/axios/index.js",
  "vscode_extension/node_modules/axios/package.json",
  "vscode_extension/node_modules/axios/dist/axios.js",
  "vscode_extension/node_modules/axios/dist/axios.js.map",
  "vscode_extension/node_modules/axios/dist/axios.min.js",
  "vscode_extension/node_modules/axios/dist/axios.min.js.map",
  "vscode_extension/node_modules/axios/dist/browser/axios.cjs",
  "vscode_extension/node_modules/axios/dist/browser/axios.cjs.map",
  "vscode_extension/node_modules/axios/dist/esm/axios.js",
  "vscode_extension/node_modules/axios/dist/esm/axios.js.map",
  "vscode_extension/node_modules/axios/dist/esm/axios.min.js",
  "vscode_extension/node_modules/axios/dist/esm/axios.min.js.map",
  "vscode_extension/node_modules/axios/dist/node/axios.cjs",
  "vscode_extension/node_modules/axios/dist/node/axios.cjs.map",
  "vscode_extension/node_modules/axios/lib/axios.js",
  "vscode_extension/node_modules/axios/lib/utils.js",
  "vscode_extension/node_modules/axios/lib/adapters/README.md",
  "vscode_extension/node_modules/axios/lib/adapters/adapters.js",
  "vscode_extension/node_modules/axios/lib/adapters/fetch.js",
  "vscode_extension/node_modules/axios/lib/adapters/http.js",
  "vscode_extension/node_modules/axios/lib/adapters/xhr.js",
  "vscode_extension/node_modules/axios/lib/cancel/CancelToken.js",
  "vscode_extension/node_modules/axios/lib/cancel/CanceledError.js",
  "vscode_extension/node_modules/axios/lib/cancel/isCancel.js",
  "vscode_extension/node_modules/axios/lib/core/Axios.js",
  "vscode_extension/node_modules/axios/lib/core/AxiosError.js",
  "vscode_extension/node_modules/axios/lib/core/AxiosHeaders.js",
  "vscode_extension/node_modules/axios/lib/core/InterceptorManager.js",
  "vscode_extension/node_modules/axios/lib/core/README.md",
  "vscode_extension/node_modules/axios/lib/core/buildFullPath.js",
  "vscode_extension/node_modules/axios/lib/core/dispatchRequest.js",
  "vscode_extension/node_modules/axios/lib/core/mergeConfig.js",
  "vscode_extension/node_modules/axios/lib/core/settle.js",
  "vscode_extension/node_modules/axios/lib/core/transformData.js",
  "vscode_extension/node_modules/axios/lib/defaults/index.js",
  "vscode_extension/node_modules/axios/lib/defaults/transitional.js",
  "vscode_extension/node_modules/axios/lib/env/README.md",
  "vscode_extension/node_modules/axios/lib/env/data.js",
  "vscode_extension/node_modules/axios/lib/env/classes/FormData.js",
  "vscode_extension/node_modules/axios/lib/helpers/AxiosTransformStream.js",
  "vscode_extension/node_modules/axios/lib/helpers/AxiosURLSearchParams.js",
  "vscode_extension/node_modules/axios/lib/helpers/HttpStatusCode.js",
  "vscode_extension/node_modules/axios/lib/helpers/README.md",
  "vscode_extension/node_modules/axios/lib/helpers/ZlibHeaderTransformStream.js",
  "vscode_extension/node_modules/axios/lib/helpers/bind.js",
  "vscode_extension/node_modules/axios/lib/helpers/buildURL.js",
  "vscode_extension/node_modules/axios/lib/helpers/callbackify.js",
  "vscode_extension/node_modules/axios/lib/helpers/combineURLs.js",
  "vscode_extension/node_modules/axios/lib/helpers/composeSignals.js",
  "vscode_extension/node_modules/axios/lib/helpers/cookies.js",
  "vscode_extension/node_modules/axios/lib/helpers/deprecatedMethod.js",
  "vscode_extension/node_modules/axios/lib/helpers/estimateDataURLDecodedBytes.js",
  "vscode_extension/node_modules/axios/lib/helpers/formDataToJSON.js",
  "vscode_extension/node_modules/axios/lib/helpers/formDataToStream.js",
  "vscode_extension/node_modules/axios/lib/helpers/fromDataURI.js",
  "vscode_extension/node_modules/axios/lib/helpers/isAbsoluteURL.js",
  "vscode_extension/node_modules/axios/lib/helpers/isAxiosError.js",
  "vscode_extension/node_modules/axios/lib/helpers/isURLSameOrigin.js",
  "vscode_extension/node_modules/axios/lib/helpers/null.js",
  "vscode_extension/node_modules/axios/lib/helpers/parseHeaders.js",
  "vscode_extension/node_modules/axios/lib/helpers/parseProtocol.js",
  "vscode_extension/node_modules/axios/lib/helpers/progressEventReducer.js",
  "vscode_extension/node_modules/axios/lib/helpers/readBlob.js",
  "vscode_extension/node_modules/axios/lib/helpers/resolveConfig.js",
  "vscode_extension/node_modules/axios/lib/helpers/speedometer.js",
  "vscode_extension/node_modules/axios/lib/helpers/spread.js",
  "vscode_extension/node_modules/axios/lib/helpers/throttle.js",
  "vscode_extension/node_modules/axios/lib/helpers/toFormData.js",
  "vscode_extension/node_modules/axios/lib/helpers/toURLEncodedForm.js",
  "vscode_extension/node_modules/axios/lib/helpers/trackStream.js",
  "vscode_extension/node_modules/axios/lib/helpers/validator.js",
  "vscode_extension/node_modules/axios/lib/platform/index.js",
  "vscode_extension/node_modules/axios/lib/platform/browser/index.js",
  "vscode_extension/node_modules/axios/lib/platform/browser/classes/Blob.js",
  "vscode_extension/node_modules/axios/lib/platform/browser/classes/FormData.js",
  "vscode_extension/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js",
  "vscode_extension/node_modules/axios/lib/platform/common/utils.js",
  "vscode_extension/node_modules/axios/lib/platform/node/index.js",
  "vscode_extension/node_modules/axios/lib/platform/node/classes/FormData.js",
  "vscode_extension/node_modules/axios/lib/platform/node/classes/URLSearchParams.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/.eslintrc",
  "vscode_extension/node_modules/call-bind-apply-helpers/.nycrc",
  "vscode_extension/node_modules/call-bind-apply-helpers/CHANGELOG.md",
  "vscode_extension/node_modules/call-bind-apply-helpers/LICENSE",
  "vscode_extension/node_modules/call-bind-apply-helpers/README.md",
  "vscode_extension/node_modules/call-bind-apply-helpers/actualApply.d.ts",
  "vscode_extension/node_modules/call-bind-apply-helpers/actualApply.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/applyBind.d.ts",
  "vscode_extension/node_modules/call-bind-apply-helpers/applyBind.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/functionApply.d.ts",
  "vscode_extension/node_modules/call-bind-apply-helpers/functionApply.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/functionCall.d.ts",
  "vscode_extension/node_modules/call-bind-apply-helpers/functionCall.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/index.d.ts",
  "vscode_extension/node_modules/call-bind-apply-helpers/index.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/package.json",
  "vscode_extension/node_modules/call-bind-apply-helpers/reflectApply.d.ts",
  "vscode_extension/node_modules/call-bind-apply-helpers/reflectApply.js",
  "vscode_extension/node_modules/call-bind-apply-helpers/tsconfig.json",
  "vscode_extension/node_modules/call-bind-apply-helpers/.github/FUNDING.yml",
  "vscode_extension/node_modules/call-bind-apply-helpers/test/index.js",
  "vscode_extension/node_modules/combined-stream/License",
  "vscode_extension/node_modules/combined-stream/Readme.md",
  "vscode_extension/node_modules/combined-stream/package.json",
  "vscode_extension/node_modules/combined-stream/yarn.lock",
  "vscode_extension/node_modules/combined-stream/lib/combined_stream.js",
  "vscode_extension/node_modules/delayed-stream/.npmignore",
  "vscode_extension/node_modules/delayed-stream/License",
  "vscode_extension/node_modules/delayed-stream/Makefile",
  "vscode_extension/node_modules/delayed-stream/Readme.md",
  "vscode_extension/node_modules/delayed-stream/package.json",
  "vscode_extension/node_modules/delayed-stream/lib/delayed_stream.js",
  "vscode_extension/node_modules/dunder-proto/.eslintrc",
  "vscode_extension/node_modules/dunder-proto/.nycrc",
  "vscode_extension/node_modules/dunder-proto/CHANGELOG.md",
  "vscode_extension/node_modules/dunder-proto/LICENSE",
  "vscode_extension/node_modules/dunder-proto/README.md",
  "vscode_extension/node_modules/dunder-proto/get.d.ts",
  "vscode_extension/node_modules/dunder-proto/get.js",
  "vscode_extension/node_modules/dunder-proto/package.json",
  "vscode_extension/node_modules/dunder-proto/set.d.ts",
  "vscode_extension/node_modules/dunder-proto/set.js",
  "vscode_extension/node_modules/dunder-proto/tsconfig.json",
  "vscode_extension/node_modules/dunder-proto/.github/FUNDING.yml",
  "vscode_extension/node_modules/dunder-proto/test/get.js",
  "vscode_extension/node_modules/dunder-proto/test/index.js",
  "vscode_extension/node_modules/dunder-proto/test/set.js",
  "vscode_extension/node_modules/es-define-property/.eslintrc",
  "vscode_extension/node_modules/es-define-property/.nycrc",
  "vscode_extension/node_modules/es-define-property/CHANGELOG.md",
  "vscode_extension/node_modules/es-define-property/LICENSE",
  "vscode_extension/node_modules/es-define-property/README.md",
  "vscode_extension/node_modules/es-define-property/index.d.ts",
  "vscode_extension/node_modules/es-define-property/index.js",
  "vscode_extension/node_modules/es-define-property/package.json",
  "vscode_extension/node_modules/es-define-property/tsconfig.json",
  "vscode_extension/node_modules/es-define-property/.github/FUNDING.yml",
  "vscode_extension/node_modules/es-define-property/test/index.js",
  "vscode_extension/node_modules/es-errors/.eslintrc",
  "vscode_extension/node_modules/es-errors/CHANGELOG.md",
  "vscode_extension/node_modules/es-errors/LICENSE",
  "vscode_extension/node_modules/es-errors/README.md",
  "vscode_extension/node_modules/es-errors/eval.d.ts",
  "vscode_extension/node_modules/es-errors/eval.js",
  "vscode_extension/node_modules/es-errors/index.d.ts",
  "vscode_extension/node_modules/es-errors/index.js",
  "vscode_extension/node_modules/es-errors/package.json",
  "vscode_extension/node_modules/es-errors/range.d.ts",
  "vscode_extension/node_modules/es-errors/range.js",
  "vscode_extension/node_modules/es-errors/ref.d.ts",
  "vscode_extension/node_modules/es-errors/ref.js",
  "vscode_extension/node_modules/es-errors/syntax.d.ts",
  "vscode_extension/node_modules/es-errors/syntax.js",
  "vscode_extension/node_modules/es-errors/tsconfig.json",
  "vscode_extension/node_modules/es-errors/type.d.ts",
  "vscode_extension/node_modules/es-errors/type.js",
  "vscode_extension/node_modules/es-errors/uri.d.ts",
  "vscode_extension/node_modules/es-errors/uri.js",
  "vscode_extension/node_modules/es-errors/.github/FUNDING.yml",
  "vscode_extension/node_modules/es-errors/test/index.js",
  "vscode_extension/node_modules/es-object-atoms/.eslintrc",
  "vscode_extension/node_modules/es-object-atoms/CHANGELOG.md",
  "vscode_extension/node_modules/es-object-atoms/LICENSE",
  "vscode_extension/node_modules/es-object-atoms/README.md",
  "vscode_extension/node_modules/es-object-atoms/RequireObjectCoercible.d.ts",
  "vscode_extension/node_modules/es-object-atoms/RequireObjectCoercible.js",
  "vscode_extension/node_modules/es-object-atoms/ToObject.d.ts",
  "vscode_extension/node_modules/es-object-atoms/ToObject.js",
  "vscode_extension/node_modules/es-object-atoms/index.d.ts",
  "vscode_extension/node_modules/es-object-atoms/index.js",
  "vscode_extension/node_modules/es-object-atoms/isObject.d.ts",
  "vscode_extension/node_modules/es-object-atoms/isObject.js",
  "vscode_extension/node_modules/es-object-atoms/package.json",
  "vscode_extension/node_modules/es-object-atoms/tsconfig.json",
  "vscode_extension/node_modules/es-object-atoms/.github/FUNDING.yml",
  "vscode_extension/node_modules/es-object-atoms/test/index.js",
  "vscode_extension/node_modules/es-set-tostringtag/.eslintrc",
  "vscode_extension/node_modules/es-set-tostringtag/.nycrc",
  "vscode_extension/node_modules/es-set-tostringtag/CHANGELOG.md",
  "vscode_extension/node_modules/es-set-tostringtag/LICENSE",
  "vscode_extension/node_modules/es-set-tostringtag/README.md",
  "vscode_extension/node_modules/es-set-tostringtag/index.d.ts",
  "vscode_extension/node_modules/es-set-tostringtag/index.js",
  "vscode_extension/node_modules/es-set-tostringtag/package.json",
  "vscode_extension/node_modules/es-set-tostringtag/tsconfig.json",
  "vscode_extension/node_modules/es-set-tostringtag/test/index.js",
  "vscode_extension/node_modules/follow-redirects/LICENSE",
  "vscode_extension/node_modules/follow-redirects/README.md",
  "vscode_extension/node_modules/follow-redirects/debug.js",
  "vscode_extension/node_modules/follow-redirects/http.js",
  "vscode_extension/node_modules/follow-redirects/https.js",
  "vscode_extension/node_modules/follow-redirects/index.js",
  "vscode_extension/node_modules/follow-redirects/package.json",
  "vscode_extension/node_modules/form-data/CHANGELOG.md",
  "vscode_extension/node_modules/form-data/License",
  "vscode_extension/node_modules/form-data/README.md",
  "vscode_extension/node_modules/form-data/index.d.ts",
  "vscode_extension/node_modules/form-data/package.json",
  "vscode_extension/node_modules/form-data/lib/browser.js",
  "vscode_extension/node_modules/form-data/lib/form_data.js",
  "vscode_extension/node_modules/form-data/lib/populate.js",
  "vscode_extension/node_modules/function-bind/.eslintrc",
  "vscode_extension/node_modules/function-bind/.nycrc",
  "vscode_extension/node_modules/function-bind/CHANGELOG.md",
  "vscode_extension/node_modules/function-bind/LICENSE",
  "vscode_extension/node_modules/function-bind/README.md",
  "vscode_extension/node_modules/function-bind/implementation.js",
  "vscode_extension/node_modules/function-bind/index.js",
  "vscode_extension/node_modules/function-bind/package.json",
  "vscode_extension/node_modules/function-bind/.github/FUNDING.yml",
  "vscode_extension/node_modules/function-bind/.github/SECURITY.md",
  "vscode_extension/node_modules/function-bind/test/.eslintrc",
  "vscode_extension/node_modules/function-bind/test/index.js",
  "vscode_extension/node_modules/get-intrinsic/.eslintrc",
  "vscode_extension/node_modules/get-intrinsic/.nycrc",
  "vscode_extension/node_modules/get-intrinsic/CHANGELOG.md",
  "vscode_extension/node_modules/get-intrinsic/LICENSE",
  "vscode_extension/node_modules/get-intrinsic/README.md",
  "vscode_extension/node_modules/get-intrinsic/index.js",
  "vscode_extension/node_modules/get-intrinsic/package.json",
  "vscode_extension/node_modules/get-intrinsic/.github/FUNDING.yml",
  "vscode_extension/node_modules/get-intrinsic/test/GetIntrinsic.js",
  "vscode_extension/node_modules/get-proto/.eslintrc",
  "vscode_extension/node_modules/get-proto/.nycrc",
  "vscode_extension/node_modules/get-proto/CHANGELOG.md",
  "vscode_extension/node_modules/get-proto/LICENSE",
  "vscode_extension/node_modules/get-proto/Object.getPrototypeOf.d.ts",
  "vscode_extension/node_modules/get-proto/Object.getPrototypeOf.js",
  "vscode_extension/node_modules/get-proto/README.md",
  "vscode_extension/node_modules/get-proto/Reflect.getPrototypeOf.d.ts",
  "vscode_extension/node_modules/get-proto/Reflect.getPrototypeOf.js",
  "vscode_extension/node_modules/get-proto/index.d.ts",
  "vscode_extension/node_modules/get-proto/index.js",
  "vscode_extension/node_modules/get-proto/package.json",
  "vscode_extension/node_modules/get-proto/tsconfig.json",
  "vscode_extension/node_modules/get-proto/.github/FUNDING.yml",
  "vscode_extension/node_modules/get-proto/test/index.js",
  "vscode_extension/node_modules/gopd/.eslintrc",
  "vscode_extension/node_modules/gopd/CHANGELOG.md",
  "vscode_extension/node_modules/gopd/LICENSE",
  "vscode_extension/node_modules/gopd/README.md",
  "vscode_extension/node_modules/gopd/gOPD.d.ts",
  "vscode_extension/node_modules/gopd/gOPD.js",
  "vscode_extension/node_modules/gopd/index.d.ts",
  "vscode_extension/node_modules/gopd/index.js",
  "vscode_extension/node_modules/gopd/package.json",
  "vscode_extension/node_modules/gopd/tsconfig.json",
  "vscode_extension/node_modules/gopd/.github/FUNDING.yml",
  "vscode_extension/node_modules/gopd/test/index.js",
  "vscode_extension/node_modules/has-symbols/.eslintrc",
  "vscode_extension/node_modules/has-symbols/.nycrc",
  "vscode_extension/node_modules/has-symbols/CHANGELOG.md",
  "vscode_extension/node_modules/has-symbols/LICENSE",
  "vscode_extension/node_modules/has-symbols/README.md",
  "vscode_extension/node_modules/has-symbols/index.d.ts",
  "vscode_extension/node_modules/has-symbols/index.js",
  "vscode_extension/node_modules/has-symbols/package.json",
  "vscode_extension/node_modules/has-symbols/shams.d.ts",
  "vscode_extension/node_modules/has-symbols/shams.js",
  "vscode_extension/node_modules/has-symbols/tsconfig.json",
  "vscode_extension/node_modules/has-symbols/.github/FUNDING.yml",
  "vscode_extension/node_modules/has-symbols/test/index.js",
  "vscode_extension/node_modules/has-symbols/test/tests.js",
  "vscode_extension/node_modules/has-symbols/test/shams/core-js.js",
  "vscode_extension/node_modules/has-symbols/test/shams/get-own-property-symbols.js",
  "vscode_extension/node_modules/has-tostringtag/.eslintrc",
  "vscode_extension/node_modules/has-tostringtag/.nycrc",
  "vscode_extension/node_modules/has-tostringtag/CHANGELOG.md",
  "vscode_extension/node_modules/has-tostringtag/LICENSE",
  "vscode_extension/node_modules/has-tostringtag/README.md",
  "vscode_extension/node_modules/has-tostringtag/index.d.ts",
  "vscode_extension/node_modules/has-tostringtag/index.js",
  "vscode_extension/node_modules/has-tostringtag/package.json",
  "vscode_extension/node_modules/has-tostringtag/shams.d.ts",
  "vscode_extension/node_modules/has-tostringtag/shams.js",
  "vscode_extension/node_modules/has-tostringtag/tsconfig.json",
  "vscode_extension/node_modules/has-tostringtag/.github/FUNDING.yml",
  "vscode_extension/node_modules/has-tostringtag/test/index.js",
  "vscode_extension/node_modules/has-tostringtag/test/tests.js",
  "vscode_extension/node_modules/has-tostringtag/test/shams/core-js.js",
  "vscode_extension/node_modules/has-tostringtag/test/shams/get-own-property-symbols.js",
  "vscode_extension/node_modules/hasown/.eslintrc",
  "vscode_extension/node_modules/hasown/.nycrc",
  "vscode_extension/node_modules/hasown/CHANGELOG.md",
  "vscode_extension/node_modules/hasown/LICENSE",
  "vscode_extension/node_modules/hasown/README.md",
  "vscode_extension/node_modules/hasown/index.d.ts",
  "vscode_extension/node_modules/hasown/index.js",
  "vscode_extension/node_modules/hasown/package.json",
  "vscode_extension/node_modules/hasown/tsconfig.json",
  "vscode_extension/node_modules/hasown/.github/FUNDING.yml",
  "vscode_extension/node_modules/math-intrinsics/.eslintrc",
  "vscode_extension/node_modules/math-intrinsics/CHANGELOG.md",
  "vscode_extension/node_modules/math-intrinsics/LICENSE",
  "vscode_extension/node_modules/math-intrinsics/README.md",
  "vscode_extension/node_modules/math-intrinsics/abs.d.ts",
  "vscode_extension/node_modules/math-intrinsics/abs.js",
  "vscode_extension/node_modules/math-intrinsics/floor.d.ts",
  "vscode_extension/node_modules/math-intrinsics/floor.js",
  "vscode_extension/node_modules/math-intrinsics/isFinite.d.ts",
  "vscode_extension/node_modules/math-intrinsics/isFinite.js",
  "vscode_extension/node_modules/math-intrinsics/isInteger.d.ts",
  "vscode_extension/node_modules/math-intrinsics/isInteger.js",
  "vscode_extension/node_modules/math-intrinsics/isNaN.d.ts",
  "vscode_extension/node_modules/math-intrinsics/isNaN.js",
  "vscode_extension/node_modules/math-intrinsics/isNegativeZero.d.ts",
  "vscode_extension/node_modules/math-intrinsics/isNegativeZero.js",
  "vscode_extension/node_modules/math-intrinsics/max.d.ts",
  "vscode_extension/node_modules/math-intrinsics/max.js",
  "vscode_extension/node_modules/math-intrinsics/min.d.ts",
  "vscode_extension/node_modules/math-intrinsics/min.js",
  "vscode_extension/node_modules/math-intrinsics/mod.d.ts",
  "vscode_extension/node_modules/math-intrinsics/mod.js",
  "vscode_extension/node_modules/math-intrinsics/package.json",
  "vscode_extension/node_modules/math-intrinsics/pow.d.ts",
  "vscode_extension/node_modules/math-intrinsics/pow.js",
  "vscode_extension/node_modules/math-intrinsics/round.d.ts",
  "vscode_extension/node_modules/math-intrinsics/round.js",
  "vscode_extension/node_modules/math-intrinsics/sign.d.ts",
  "vscode_extension/node_modules/math-intrinsics/sign.js",
  "vscode_extension/node_modules/math-intrinsics/tsconfig.json",
  "vscode_extension/node_modules/math-intrinsics/.github/FUNDING.yml",
  "vscode_extension/node_modules/math-intrinsics/constants/maxArrayLength.d.ts",
  "vscode_extension/node_modules/math-intrinsics/constants/maxArrayLength.js",
  "vscode_extension/node_modules/math-intrinsics/constants/maxSafeInteger.d.ts",
  "vscode_extension/node_modules/math-intrinsics/constants/maxSafeInteger.js",
  "vscode_extension/node_modules/math-intrinsics/constants/maxValue.d.ts",
  "vscode_extension/node_modules/math-intrinsics/constants/maxValue.js",
  "vscode_extension/node_modules/math-intrinsics/test/index.js",
  "vscode_extension/node_modules/mime-db/HISTORY.md",
  "vscode_extension/node_modules/mime-db/LICENSE",
  "vscode_extension/node_modules/mime-db/README.md",
  "vscode_extension/node_modules/mime-db/db.json",
  "vscode_extension/node_modules/mime-db/index.js",
  "vscode_extension/node_modules/mime-db/package.json",
  "vscode_extension/node_modules/mime-types/HISTORY.md",
  "vscode_extension/node_modules/mime-types/LICENSE",
  "vscode_extension/node_modules/mime-types/README.md",
  "vscode_extension/node_modules/mime-types/index.js",
  "vscode_extension/node_modules/mime-types/package.json"
]</script>
<script>
/**
 * PERPLEXITY BRIDGE // DEAD ANGEL EDITION
 * Integrates logic from original_app.js with Cyberpunk UI
 */

// CONFIGURATION STATE
let cfg = {
    url: 'https://api.perplexity.ai',
    key: '',
    useStreaming: false,
    temperature: 0.0,
    maxTokens: 1024,
    frequencyPenalty: 1.0,
    markdownRender: true,
    autoSave: true,
    showTimestamps: true,
    soundEnabled: false,
    systemPrompt: '',
    tools: ''
};

// --- PROJECTS: lightweight file explorer, editor & terminal ---
function initProjectsUI() {
    const manifestElem = document.getElementById('projectManifest');
    let manifest = [];
    if(manifestElem) {
        try { manifest = JSON.parse(manifestElem.textContent); } catch(e){ manifest = []; }
    }
    window._projectManifest = manifest;
    populateFileList(manifest);
    document.getElementById('loadManifestBtn').addEventListener('click', ()=> populateFileList(manifest, true));
    document.getElementById('saveEditorBtn').addEventListener('click', saveEditorLocal);
    document.getElementById('downloadEditorBtn').addEventListener('click', downloadEditorContent);
    document.getElementById('formatCodeBtn').addEventListener('click', basicFormatCode);
    document.getElementById('terminalSendBtn').addEventListener('click', runTerminalCommand);
}

function populateFileList(manifest, force=false) {
    const el = document.getElementById('fileList');
    el.innerHTML = '';
    if(!manifest || manifest.length === 0) {
        el.innerHTML = '<div style="padding:8px; font-style:italic;">No manifest loaded.</div>';
        return;
    }
    manifest.slice(0,100).forEach(path => {
        const div = document.createElement('div');
        div.className = 'file-row';
        div.style.padding = '6px';
        div.style.cursor = 'pointer';
        div.style.borderBottom = '1px dashed rgba(255,255,255,0.03)';
        div.innerText = path;
        div.title = path;
        div.addEventListener('click', ()=> openProjectFile(path));
        el.appendChild(div);
    });
    if(manifest.length > 100) {
        const more = document.createElement('div');
        more.style.padding='8px'; more.style.opacity=0.8;
        more.innerText = `‚Ä¶ and ${manifest.length-100} more files (not shown)`;
        el.appendChild(more);
    }
}

async function openProjectFile(path) {
    const editor = document.getElementById('codeEditor');
    const filename = document.getElementById('editorFilename');
    filename.innerText = path;
    // Try to fetch the file relative to ui folder
    let url = '../' + path;
    try {
        const res = await fetch(url);
        if(res.ok) {
            const text = await res.text();
            editor.value = text;
            showToast(`Loaded ${path}`);
            return;
        }
    } catch(e) {
        // ignore fetch errors
    }
    // If fetch failed, try to load from localStorage cache
    const cached = localStorage.getItem('proj_'+path);
    if(cached) {
        editor.value = cached;
        showToast(`Loaded ${path} (cached)`);
        return;
    }
    editor.value = `// Could not load file via fetch. You can paste content here to edit.\n// Path: ${path}`;
}

function saveEditorLocal() {
    const path = document.getElementById('editorFilename').innerText;
    const content = document.getElementById('codeEditor').value;
    if(!path || path === '(no file)') {
        showToast('No filename selected to save.');
        return;
    }
    localStorage.setItem('proj_'+path, content);
    showToast('Saved to local cache.');
}

function downloadEditorContent() {
    const filename = document.getElementById('editorFilename').innerText || 'untitled.txt';
    const content = document.getElementById('codeEditor').value || '';
    const blob = new Blob([content], {type:'text/plain'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = filename.replace(/[^a-zA-Z0-9_\-\.\/]/g,'_').split('/').pop();
    a.click();
}

function basicFormatCode() {
    const editor = document.getElementById('codeEditor');
    let v = editor.value;
    try {
        // naive formatting for JSON or JS
        if(v.trim().startsWith('{') || v.trim().startsWith('[')) {
            editor.value = JSON.stringify(JSON.parse(v), null, 2);
            showToast('Formatted as JSON');
            return;
        }
        // remove trailing spaces
        editor.value = v.split('\n').map(l=>l.replace(/\s+$/,'' )).join('\n');
        showToast('Basic format applied');
    } catch(e) {
        showToast('Format failed: '+e.message);
    }
}

function runTerminalCommand() {
    const input = document.getElementById('terminalInput');
    const term = document.getElementById('miniTerminal');
    const cmd = input.value.trim();
    if(!cmd) return;
    term.innerHTML += `<div>&gt; ${escapeHtml(cmd)}</div>`;
    // simulated responses
    if(cmd === 'ls' || cmd === 'dir') {
        const m = window._projectManifest || [];
        const items = m.slice(0,20).map(p=>'<div style="margin-left:8px;">'+escapeHtml(p)+'</div>').join('');
        term.innerHTML += `<div>${items}</div>`;
    } else if(cmd.startsWith('cat ') || cmd.startsWith('type ')) {
        const file = cmd.split(' ').slice(1).join(' ');
        openProjectFile(file).then(()=> {
            const content = document.getElementById('codeEditor').value;
            term.innerHTML += `<pre style="white-space:pre-wrap; border-top:1px solid rgba(255,255,255,0.04); padding-top:6px;">${escapeHtml(content.slice(0,2000))}</pre>`;
        });
    } else {
        term.innerHTML += `<div style="opacity:0.8;">(simulated) command not implemented: ${escapeHtml(cmd)}</div>`;
    }
    term.scrollTop = term.scrollHeight;
    input.value = '';
}

function escapeHtml(s) {
    return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}


// DATA STATE
let conversationHistory = [];
let currentConversation = [];
let stats = {
    totalRequests: 0,
    totalMessages: 0,
    totalTokens: 0,
    totalTime: 0,
    activities: []
};

// --- INITIALIZATION ---
document.addEventListener('DOMContentLoaded', () => {
    loadConfig();
    loadHistory();
    loadStats();
    loadModels(); // Attempt fetch
    setupEventListeners();
    checkConnection();
    initProjectsUI();
    updateUI();
});

// --- CORE FUNCTIONS ---

function showToast(msg, type='info') {
    const t = document.getElementById('toast');
    t.innerText = `>> ${msg}`;
    t.style.borderColor = type === 'error' ? 'var(--blood-red)' : 'var(--neon-green)';
    t.style.color = type === 'error' ? 'var(--blood-red)' : 'var(--neon-green)';
    t.style.display = 'block';
    setTimeout(() => t.style.display = 'none', 3000);
}

function switchTab(tabId) {
    document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
    
    document.getElementById(`${tabId}-tab`).classList.add('active');
    document.querySelector(`.tab-btn[data-tab="${tabId}"]`).classList.add('active');
}

// --- CONFIG MANAGEMENT ---

function loadConfig() {
    // Load from LocalStorage
    const saved = localStorage.getItem('perplex_cfg_v3');
    if (saved) {
        const parsed = JSON.parse(saved);
        cfg = { ...cfg, ...parsed }; // Merge
    }

    // Populate UI
    document.getElementById('cfg-url').value = cfg.url;
    document.getElementById('cfg-key').value = cfg.key;
    document.getElementById('streaming').checked = cfg.useStreaming;
    document.getElementById('temperature').value = cfg.temperature;
    document.getElementById('tempValue').textContent = cfg.temperature.toFixed(1);
    document.getElementById('maxTokens').value = cfg.maxTokens;
    document.getElementById('tokensValue').textContent = cfg.maxTokens;
    document.getElementById('frequencyPenalty').value = cfg.frequencyPenalty;
    document.getElementById('freqValue').textContent = cfg.frequencyPenalty.toFixed(1);
    document.getElementById('markdownRender').checked = cfg.markdownRender;
    document.getElementById('autoSave').checked = cfg.autoSave;
    document.getElementById('showTimestamps').checked = cfg.showTimestamps;
    document.getElementById('soundEnabled').checked = cfg.soundEnabled;
    document.getElementById('systemPrompt').value = cfg.systemPrompt || '';
    document.getElementById('toolsConfig').value = cfg.tools || '';
}

function saveConfig() {
    // Gather UI Values
    cfg.url = document.getElementById('cfg-url').value.trim();
    cfg.key = document.getElementById('cfg-key').value.trim();
    cfg.useStreaming = document.getElementById('streaming').checked;
    cfg.temperature = parseFloat(document.getElementById('temperature').value);
    cfg.maxTokens = parseInt(document.getElementById('maxTokens').value);
    cfg.frequencyPenalty = parseFloat(document.getElementById('frequencyPenalty').value);
    cfg.markdownRender = document.getElementById('markdownRender').checked;
    cfg.autoSave = document.getElementById('autoSave').checked;
    cfg.showTimestamps = document.getElementById('showTimestamps').checked;
    cfg.soundEnabled = document.getElementById('soundEnabled').checked;
    cfg.systemPrompt = document.getElementById('systemPrompt').value;
    cfg.tools = document.getElementById('toolsConfig').value;

    localStorage.setItem('perplex_cfg_v3', JSON.stringify(cfg));
    showToast("CONFIGURATION SECURED");
    checkConnection();
    initProjectsUI();
}

async function checkConnection() {
    const ind = document.getElementById('connectionStatus');
    const txt = ind.querySelector('.status-text');
    
    if(!cfg.key) {
        ind.classList.remove('connected');
        txt.innerText = 'NO KEY';
        return;
    }
    // Simple check (if key exists we assume ready for now as pinging API might cost $)
    ind.classList.add('connected');
    txt.innerText = 'ONLINE';
}

// --- CHAT LOGIC ---

function setupEventListeners() {
    // Tabs
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', (e) => switchTab(e.currentTarget.dataset.tab));
    });

    // Inputs / Sliders
    document.getElementById('temperature').addEventListener('input', (e) => {
        document.getElementById('tempValue').textContent = parseFloat(e.target.value).toFixed(1);
    });
    document.getElementById('maxTokens').addEventListener('input', (e) => {
        document.getElementById('tokensValue').textContent = e.target.value;
    });
    document.getElementById('frequencyPenalty').addEventListener('input', (e) => {
        document.getElementById('freqValue').textContent = parseFloat(e.target.value).toFixed(1);
    });

    // Buttons
    document.getElementById('sendBtn').addEventListener('click', send);
    document.getElementById('clearBtn').addEventListener('click', clearConversation);
    document.getElementById('saveConfigBtn').addEventListener('click', saveConfig);
    document.getElementById('refreshModelsBtn').addEventListener('click', loadModels);
    document.getElementById('advancedToggle').addEventListener('click', () => {
        const p = document.getElementById('advancedOptions');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
    });
    
    // Quick Actions
    document.getElementById('newChatBtn').addEventListener('click', clearConversation);
    document.getElementById('favBtn').addEventListener('click', addToFavorites);
    document.getElementById('copyBtn').addEventListener('click', copyLastResponse);
    document.getElementById('exportBtn').addEventListener('click', exportConversation);
    document.getElementById('clearHistoryBtn').addEventListener('click', clearAllHistory);
    document.getElementById('exportAllBtn').addEventListener('click', exportAllHistory);

    // Keyboard
    document.getElementById('prompt').addEventListener('keydown', (e) => {
        if (e.ctrlKey && e.key === 'Enter') {
            e.preventDefault();
            send();
        }
    });
}

function setLoading(isLoading) {
    const btn = document.getElementById('sendBtn');
    if(isLoading) {
        btn.innerHTML = 'TRANSMITTING... <span class="status-dot"></span>';
        btn.disabled = true;
    } else {
        btn.innerHTML = 'TRANSMIT ‚û§';
        btn.disabled = false;
    }
}

// --- SENDING MESSAGES ---

async function send() {
    const promptInput = document.getElementById('prompt');
    const prompt = promptInput.value.trim();
    if(!prompt) return showToast("INPUT EMPTY", "error");
    if(!cfg.key) return showToast("API KEY MISSING", "error");

    setLoading(true);
    
    // 1. Add User Message
    addMessageToConversation('user', prompt);
    promptInput.value = '';

    const startTime = Date.now();

    try {
        if(cfg.useStreaming) {
            await sendWebSocket(prompt, startTime);
        } else {
            await sendRest(prompt, startTime);
        }
    } catch (e) {
        addMessageToConversation('assistant', `SYSTEM ERROR: ${e.message}`);
        setLoading(false);
    }
}

// REST FETCH
async function sendRest(prompt, startTime) {
    const model = document.getElementById('modelSelector').value;
    
    const messages = [];
    if(cfg.systemPrompt) messages.push({ role: 'system', content: cfg.systemPrompt });
    
    // Add history context (limited to last 10 to save tokens)
    currentConversation.forEach(m => {
        if(m.role !== 'system') messages.push({role: m.role, content: m.content});
    });
    // Ensure last message is not duplicated if we just pushed it? 
    // Actually currentConversation already has the user prompt.
    // Let's rebuild messages cleanly from currentConversation.
    
    const apiMessages = [
        ...(cfg.systemPrompt ? [{ role: 'system', content: cfg.systemPrompt }] : []),
        ...currentConversation.map(m => ({role: m.role, content: m.content}))
    ];

    const payload = {
        model: model,
        messages: apiMessages,
        temperature: cfg.temperature,
        max_tokens: cfg.maxTokens,
        frequency_penalty: cfg.frequencyPenalty
    };

    // Tools
    try {
        if(cfg.tools) {
            const t = JSON.parse(cfg.tools);
            if(Array.isArray(t) && t.length > 0) payload.tools = t;
        }
    } catch(e) { console.error("Tools JSON Error", e); }

    const res = await fetch(cfg.url + '/chat/completions', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${cfg.key}`
        },
        body: JSON.stringify(payload)
    });

    if(!res.ok) throw new Error(`HTTP ${res.status}`);
    
    const data = await res.json();
    const content = data.choices[0].message.content;
    const usage = data.usage || { total_tokens: 0 };

    addMessageToConversation('assistant', content);
    
    // Stats
    updateStats((Date.now() - startTime)/1000, usage.total_tokens || content.length/4);
    if(cfg.soundEnabled) playSound();
    setLoading(false);
}

// WEBSOCKET / STREAMING (Emulated via fetch stream for Perplexity compatibility)
async function sendWebSocket(prompt, startTime) {
    // Note: Perplexity uses standard SSE (Server Sent Events) over POST, not raw WebSockets usually.
    // The original code used a custom Websocket logic. We will implement SSE logic here as it's more standard for this API.
    
    const model = document.getElementById('modelSelector').value;
    const apiMessages = [
        ...(cfg.systemPrompt ? [{ role: 'system', content: cfg.systemPrompt }] : []),
        ...currentConversation.map(m => ({role: m.role, content: m.content}))
    ];

    const payload = {
        model: model,
        messages: apiMessages,
        temperature: cfg.temperature,
        max_tokens: cfg.maxTokens,
        stream: true
    };

    // Placeholder for stream message
    const assistantMsgIndex = currentConversation.push({ role: 'assistant', content: '', timestamp: new Date().toISOString() }) - 1;
    renderConversation(); // Show empty bubble

    const response = await fetch(cfg.url + '/chat/completions', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${cfg.key}` },
        body: JSON.stringify(payload)
    });

    const reader = response.body.getReader();
    const decoder = new TextDecoder("utf-8");
    let fullContent = "";

    while (true) {
        const { done, value } = await reader.read();
        if (done) break;
        const chunk = decoder.decode(value);
        const lines = chunk.split("\n");
        
        for (const line of lines) {
            if (line.startsWith("data: ") && line !== "data: [DONE]") {
                try {
                    const json = JSON.parse(line.substring(6));
                    if (json.choices && json.choices[0].delta.content) {
                        const txt = json.choices[0].delta.content;
                        fullContent += txt;
                        currentConversation[assistantMsgIndex].content = fullContent;
                        // Re-render only last message ideally, but full render is safer for now
                        renderConversation();
                    }
                } catch (e) { /* ignore parse errors in stream */ }
            }
        }
    }
    
    updateStats((Date.now() - startTime)/1000, fullContent.length/4);
    if(cfg.soundEnabled) playSound();
    setLoading(false);
    if(cfg.autoSave) saveCurrentConversation();
}

// --- UI RENDERING ---

function addMessageToConversation(role, content) {
    currentConversation.push({ role, content, timestamp: new Date().toISOString() });
    renderConversation();
    if(cfg.autoSave) saveCurrentConversation();
}

function renderConversation() {
    const container = document.getElementById('conversation');
    container.innerHTML = '';

    currentConversation.forEach(msg => {
        const div = document.createElement('div');
        div.className = `msg ${msg.role}`;
        
        let contentHtml = cfg.markdownRender && msg.role === 'assistant' ? renderMarkdown(msg.content) : escapeHtml(msg.content);
        
        const time = cfg.showTimestamps ? `<span style="float:right">${new Date(msg.timestamp).toLocaleTimeString()}</span>` : '';
        
        div.innerHTML = `
            <span class="msg-meta">${msg.role} ${time}</span>
            <div class="content">${contentHtml}</div>
        `;
        container.appendChild(div);
    });
    
    // Auto scroll
    container.scrollTop = container.scrollHeight;
    
    // Update Session Stats Widget
    document.getElementById('sessionMessages').innerText = currentConversation.length;
}

// --- UTILS ---

function renderMarkdown(text) {
    let html = escapeHtml(text);
    html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
    html = html.replace(/`([^`]+)`/g, '<code>$1</code>');
    html = html.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
    html = html.replace(/\n/g, '<br>');
    return html;
}

function escapeHtml(text) {
    if(!text) return "";
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

function playSound() {
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.connect(gain);
    gain.connect(ctx.destination);
    osc.frequency.value = 600;
    osc.type = 'sine';
    gain.gain.setValueAtTime(0.05, ctx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.1);
    osc.start();
    osc.stop(ctx.currentTime + 0.1);
}

// --- HISTORY & STATS ---

function saveCurrentConversation() {
    if (currentConversation.length === 0) return;
    // Update top of history list if ID matches, else push new
    // Simplification: Just save to list
    const session = {
        id: Date.now(),
        preview: currentConversation[currentConversation.length-1].content.substring(0, 50),
        messages: [...currentConversation],
        date: new Date().toISOString()
    };
    
    // Remove if exists (naive approach) then unshift
    conversationHistory = conversationHistory.filter(h => h.id !== session.id); // usually won't match as ID is time
    conversationHistory.unshift(session);
    if(conversationHistory.length > 50) conversationHistory.pop();
    
    localStorage.setItem('perplex_history_v3', JSON.stringify(conversationHistory));
    renderHistoryList();
}

function loadHistory() {
    const h = localStorage.getItem('perplex_history_v3');
    if(h) {
        conversationHistory = JSON.parse(h);
        renderHistoryList();
    }
}

function renderHistoryList() {
    const list = document.getElementById('historyList');
    list.innerHTML = '';
    conversationHistory.forEach(item => {
        const div = document.createElement('div');
        div.className = 'history-item';
        div.innerHTML = `
            <div>
                <div style="color:var(--neon-pink)">${new Date(item.date).toLocaleString()}</div>
                <div style="color:#aaa">${escapeHtml(item.preview)}...</div>
            </div>
            <div>${item.messages.length} msgs</div>
        `;
        div.onclick = () => {
            currentConversation = [...item.messages];
            renderConversation();
            switchTab('chat');
            showToast("ARCHIVE LOADED");
        };
        list.appendChild(div);
    });
}

function clearConversation() {
    if(confirm("PURGE CURRENT MEMORY?")) {
        currentConversation = [];
        renderConversation();
        document.getElementById('sessionMessages').innerText = '0';
        document.getElementById('sessionTokens').innerText = '0';
    }
}

function clearAllHistory() {
    if(confirm("WIPE ALL ARCHIVED DATA? IRREVERSIBLE.")) {
        conversationHistory = [];
        localStorage.removeItem('perplex_history_v3');
        renderHistoryList();
    }
}

function updateStats(time, tokens) {
    stats.totalRequests++;
    stats.totalTokens += Math.ceil(tokens);
    stats.totalMessages += 2;
    stats.activities.unshift({ time: new Date().toLocaleTimeString(), tokens: Math.ceil(tokens) });
    if(stats.activities.length > 20) stats.activities.pop();
    
    saveStats();
    updateUI();
}

function saveStats() {
    localStorage.setItem('perplex_stats_v3', JSON.stringify(stats));
}

function loadStats() {
    const s = localStorage.getItem('perplex_stats_v3');
    if(s) stats = JSON.parse(s);
}

function updateUI() {
    document.getElementById('totalRequests').innerText = stats.totalRequests;
    document.getElementById('totalMessages').innerText = stats.totalMessages;
    document.getElementById('totalTokens').innerText = stats.totalTokens;
    document.getElementById('sessionTokens').innerText = Math.ceil(stats.totalTokens); // Rough session tracking
    
    const log = document.getElementById('activityLog');
    log.innerHTML = stats.activities.map(a => `<div>[${a.time}] PROCESSED ${a.tokens} TOKENS</div>`).join('');
}

// --- MODELS ---

async function loadModels() {
    const list = document.getElementById('modelsList');
    const select = document.getElementById('modelSelector');
    list.innerHTML = '<div style="color:var(--neon-cyan)">SCANNING NETWORK...</div>';
    
    // Simulate or Fetch
    // If URL is valid, try fetch
    try {
        const res = await fetch(cfg.url + '/models', { headers: { 'Authorization': `Bearer ${cfg.key}` } });
        if(res.ok) {
            const data = await res.json();
            // render
            list.innerHTML = '';
            select.innerHTML = '';
            data.data.forEach(m => {
                // Add to Grid
                const card = document.createElement('div');
                card.className = 'model-card';
                card.innerHTML = `<h4 style="color:var(--neon-pink)">${m.id}</h4><small>Owned by ${m.owned_by}</small>`;
                card.onclick = () => { select.value = m.id; switchTab('chat'); showToast(`ENTITY ${m.id} SELECTED`); };
                list.appendChild(card);
                
                // Add to Select
                const opt = document.createElement('option');
                opt.value = m.id;
                opt.innerText = m.id;
                select.appendChild(opt);
            });
            return;
        }
    } catch(e) {}
    
    // Fallback static list if API fails (common for cross-origin or offline)
    list.innerHTML = '<div style="color:#666">API UNREACHABLE. USING CACHED ENTITIES.</div>';
}

// --- EXTRAS ---

function addToFavorites() {
    const lastUser = [...currentConversation].reverse().find(m => m.role === 'user');
    if(lastUser) {
        const div = document.createElement('div');
        div.style.padding = '10px';
        div.style.borderBottom = '1px dashed #333';
        div.style.cursor = 'pointer';
        div.innerText = `‚òÖ ${lastUser.content.substring(0, 20)}...`;
        div.onclick = () => document.getElementById('prompt').value = lastUser.content;
        document.getElementById('favoritesList').appendChild(div);
        showToast("ADDED TO FAVORITES");
    }
}

function copyLastResponse() {
    const last = [...currentConversation].reverse().find(m => m.role === 'assistant');
    if(last) {
        navigator.clipboard.writeText(last.content);
        showToast("COPIED TO CLIPBOARD");
    }
}

function exportConversation() {
    const txt = JSON.stringify(currentConversation, null, 2);
    const blob = new Blob([txt], {type: 'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `log_${Date.now()}.json`;
    a.click();
}

function exportAllHistory() {
    const txt = JSON.stringify(conversationHistory, null, 2);
    const blob = new Blob([txt], {type: 'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `full_archive_${Date.now()}.json`;
    a.click();
}

</script>
</body>
</html>